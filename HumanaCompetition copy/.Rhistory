knitr::opts_chunk$set(echo = TRUE)
#environment setting
library(Hmisc)
library(data.table)
library(pastecs)
basic_data=read.csv('basic_data.csv')
colnames=colnames(basic_data)
col1=like(colnames,'atlas',fixed=TRUE) #'atlas'可替换为任意前缀（后缀）
col1=colnames[col1]
data1=basic_data[,(names(basic_data) %in% col1)]
data1=data1[,order(colnames(data1))] #按英文字母表reorder，方便查看
describe(data1)
View(data1)
?describe
View(basic_data)
View(data1)
min(basic_data$atlas_avghhsize)
min(basic_data$atlas_berry_acrespth12)
min(basic_data$atlas_berry_acrespth12,na.rm = TRUE)
datamiss1=is.na(data$atlas_agritrsm_rct12)
datamiss1=is.na(data$atlas_agritrsm_rct12=TRUE)
datamiss1=is.na(data$atlas_agritrsm_rct12==TRUE)
datamiss1=is.na(data$atlas_agritrsm_rct12==TRUE)
bh <- colnames(basic_data)[grep('^bh', colnames(basic_data))]
bh <- colnames(basic_data)[grep('^bh', colnames(basic_data))]
order <- order(Summary_table[Summary_table$Variable_Name %in% bh,
c(2, 5, 9, 3)]$Variable_Name)
for (i in sort(bh)[1:9]) {
print(i)
print(table(basic_data[[i]]))
}
?table
is.na(basic_data$auth_3mth_post_acute_dia)
data[is.na(basic_data$atlas_agritrsm_rct12)]
data(is.na(basic_data$atlas_agritrsm_rct12))
data(,is.na(basic_data$atlas_agritrsm_rct12))
data[,is.na(basic_data$atlas_agritrsm_rct12)]
data[is.na(basic_data$atlas_agritrsm_rct12),]
data[is.na(basic_data$atlas_agritrsm_rct12)=True]
data[is.na(basic_data$atlas_agritrsm_rct12)==True]
data[is.na(basic_data$atlas_agritrsm_rct12)==TRUE]
data[is.na(basic_data$atlas_agritrsm_rct12)==TRUE,]
datamiss1<-basic_data[is.na(basic_data$atlas_agritrsm_rct12)==TRUE,]
datamiss1<-basic_data[is.na(basic_data$atlas_agritrsm_rct12)==TRUE,]
summary(datamiss1)
atlas_agr_na<-basic_data[is.na(basic_data$atlas_agritrsm_rct12)==TRUE,]
summary(atlas_agr_na[colnames(atlas_agr_na)%like%"atlas_"])
atlas_agr_na<-basic_data[is.na(basic_data$atlas_pct_fmrkt_snap16)==TRUE,]
summary(atlas_agr_na[colnames(atlas_agr_na)%like%"atlas_"])
atlas_agr_na<-basic_data[is.na(basic_data$atlas_berry_acrespth12)==TRUE,]
summary(atlas_agr_na[colnames(atlas_agr_na)%like%"atlas_berry"])
plot(basic_data$atlas_berry_acrespth12)
plot(basic_data$atlas_berry_farms12)
plot(basic_data$atlas_convspth14)
plot(basic_data$atlas_csa12)
plot(basic_data$atlas_deep_pov_all)
?describe
plot(basic_data$atlas_berry_acrespth12)
plot(basic_data$atlas_convspth14)
plot(basic_data$atlas_csa12)
plot(basic_data$atlas_deep_pov_all)
plot(basic_data$atlas_deep_pov_children )
plot(basic_data$atlas_dirsales_farms12 )
plot(basic_data$atlas_farm_to_school13  )
basic_data=read.csv('basic_data.csv')
colnames=colnames(basic_data)
col1=like(colnames,'atlas',fixed=TRUE) #'atlas'可替换为任意前缀（后缀）
col1=colnames[col1]
data1=basic_data[,(names(basic_data) %in% col1)]
data1=data1[,order(colnames(data1))] #按英文字母表reorder，方便查看
describe(data1)
plot(basic_data$atlas_farm_to_school13)
plot(basic_data$ffrpth14)
plot(basic_data$atlas_ffrpth14 )
plot(basic_data$atlas_fmrktpth16  )
quantile(basic_data$atlas_fmrktpth16 )
quantile(basic_data$atlas_fmrktpth16,na.rm=TRUE )
qqplot(basic_data$atlas_fmrktpth16)
library(qqplot2)
install.packages("EnvStats")
library(EnvStats)
qqplot(basic_data$atlas_fmrktpth16 )
qqplot(y=basic_data$atlas_fmrktpth16 )
qqplot(x=basic_data$atlas_fmrktpth16,y=null )
qqplot(x=basic_data$atlas_fmrktpth16,y=Null )
qqPlot(basic_data$atlas_fmrktpth16 )
qqPlot(basic_data$atlas_dirsales_farms12 )
qqPlot(basic_data$atlas_convspth14 )
qqPlot(atlas_fmrktpth16)
qqPlot(basic_data$atlas_fmrktpth16)
hist(atlas_fmrktpth16)
hist(data$atlas_fmrktpth16)
histogram(data$atlas_fmrktpth16)
hist(data$atlas_fmrktpth16)
?hist
hist(x=data$atlas_fmrktpth16)
hist(x=data$atlas_ffrpth14 )
hist(x=data$atlas_ffrpth14,plot=TRUE)
qqPlot(basic_data$atlas_foodhub16)
qqPlot(atlas_foodinsec_13_15)
qqPlot(data$atlas_foodinsec_13_15)
qqPlot(basic_data$atlas_foodinsec_13_15)
hist(basic_data$atlas_ffrpth14
)
hist(basic_data$atlas_ffrpth14 )
hist(basic_data$atlas_ffrpth16 )
hist(basic_data$atlas_fmrktpth16)
qqPlot(basic_data$atlas_foodinsec_13_15)
hist(basic_data$atlas_foodinsec_13_15)
qqPlot(basic_data$atlas_foodinsec_child_03_11 )
hist(basic_data$atlas_foodinsec_child_03_11 )
qqPlot(basic_data$atlas_foodinsec_child_03_11 )
hist(basic_data$atlas_foodinsec_child_03_11 )
qqPlot(basic_data$atlas_foodinsec_child_03_11 )
qqPlot(basic_data$atlas_freshveg_farms12 )
hist(basic_data$atlas_freshveg_farms12 )
hist(basic_data$atlas_fsrpth14 )
qqPlot(basic_data$atlas_fsrpth14 )
hist(basic_data$atlas_fsrpth14 )
hist(basic_data$atlas_ghveg_farms12 )
qqPlot(basic_data$atlas_ghveg_farms12 )
hist(basic_data$atlas_ghveg_farms12 )
qqPlot(basic_data$atlas_ghveg_sqftpth12 )
hist(basic_data$atlas_ghveg_sqftpth12 )
hist(basic_data$atlas_grocpth14 )
qqPlot(basic_data$atlas_grocpth14 )
qqPlot(basic_data$atlas_hh65plusalonepct)
qqPlot(basic_data$atlas_avghhsize)
qqPlot(basic_data$atlas_hiamenity )
qqPlot(basic_data$atlas_hipov_1115 )
qqPlot(basic_data$atlas_low_education_2015_update )
hist(basic_data$atlas_low_education_2015_update )
hist(basic_data$atlas_low_employment_2015_update e )
hist(basic_data$atlas_low_employment_2015_update)
qqPlot(basic_data$atlas_medhhinc )
hist(basic_data$atlas_medhhinc )
hist(basic_data$atlas_naturalchangerate1016 )
ppPlot(basic_data$atlas_naturalchangerate1016 )
qqPlot(basic_data$atlas_naturalchangerate1016 )
qqPlot(basic_data$atlas_net_international_migration_rate)
hist(basic_data$atlas_net_international_migration_rate)
hist(basic_data$atlas_netmigrationrate1016)
qqPlot(basic_data$atlas_netmigrationrate1016)
hist(basic_data$atlas_netmigrationrate1016)
qqPlot(basic_data$atlas_orchard_acrespth12)
hist(basic_data$atlas_orchard_acrespth12)
hist(basic_data$atlas_orchard_acrespth12)
hist(basic_data$atlas_orchard_farms12)
qqPlot(basic_data$atlas_orchard_acrespth12)
qqPlot(basic_data$atlas_orchard_farms12)
qqPlot(basic_data$atlas_ownhomepct)
hist(basic_data$atlas_ownhomepct)
qqPlot(basic_data$atlas_pc_dirsales12)
hist(basic_data$atlas_pc_dirsales12)
qqPlot(basic_data$atlas_pc_ffrsales12)
hist(basic_data$atlas_pc_ffrsales12)
hist(basic_data$atlas_pc_fsrsales12)
hist(basic_data$atlas_pc_snapben15)
qqplot(basic_data$atlas_pc_snapben15)
qqPlot(basic_data$atlas_pc_snapben15)
qqPlot(basic_data$atlas_pc_wic_redemp12)
hist(basic_data$atlas_pc_wic_redemp12)
qqPlot(basic_data$atlas_pct_cacfp15)
hist(basic_data$atlas_pct_cacfp15)
qqPlot(basic_data$atlas_pct_cacfp15)
qqPlot(basic_data$atlas_pct_diabetes_adults13)
hist(basic_data$atlas_pct_diabetes_adults13)
qqPlot(basic_data$atlas_pct_fmrkt_anmlprod16)
hist(basic_data$atlas_pct_fmrkt_anmlprod16)
qqPlot(basic_data$atlas_pct_fmrkt_anmlprod16)
hist(basic_data$atlas_pct_fmrkt_baked16)
qqPlot(basic_data$atlas_pct_fmrkt_baked16)
qqPlot(basic_data$atlas_pct_fmrkt_credit16)
hist(basic_data$atlas_pct_fmrkt_credit16)
qqPlot(basic_data$atlas_pct_fmrkt_frveg16)
hist(basic_data$atlas_pct_fmrkt_frveg16)
qqPlot(basic_data$atlas_pct_fmrkt_otherfood16)
hist(basic_data$atlas_pct_fmrkt_frveg16)
hist(basic_data$atlas_pct_fmrkt_otherfood16)
qqPlot(basic_data$atlas_pct_fmrkt_sfmnp16)
hist(basic_data$atlas_pct_fmrkt_sfmnp16)
qqPlot(basic_data$atlas_pct_fmrkt_snap16)
hist(basic_data$atlas_pct_fmrkt_snap16)
qqPlot(basic_data$atlas_pct_fmrkt_wic16)
qqPlot(atlas_pct_fmrkt_wiccash16)
qqPlot(basic_data$atlas_pct_fmrkt_wiccash16)
hist(basic_data$atlas_pct_fmrkt_wiccash16)
hist(basic_data$atlas_pct_free_lunch14)
hist(basic_data$Black, low access to store)
hist(basic_data$atlas_pct_laccess_black15)
qqPlot(basic_data$atlas_pct_laccess_black15)
hist(basic_data$atlas_pct_laccess_child15)
qqPlot(basic_data$atlas_pct_laccess_black15)
qqPlot(basic_data$atlas_pct_laccess_child15)
qqPlot(basic_data$atlas_pct_laccess_hhnv15)
hist(basic_data$atlas_pct_laccess_hhnv15)
hist(basic_data$atlas_pct_laccess_hisp15)
qqPlot(basic_data$atlas_pct_laccess_hisp15)
qqPlot(basic_data$atlas_pct_laccess_lowi15)
hist(basic_data$atlas_pct_laccess_lowi15)
qqPlot(basic_data$atlas_pct_laccess_multir15)
hist(atlas_pct_laccess_multir15)
qqPlot(basic_data$atlas_pct_laccess_multir15)
hist(basic_data$atlas_pct_laccess_multir15)
hist(basic_data$atlas_pct_laccess_nhasian15)
qqPlot(basic_data$atlas_pct_laccess_nhasian15)
qqPlot(basic_data$atlas_pct_laccess_nhna15)
hist(basic_data$atlas_pct_laccess_nhna15)
hist(basic_data$atlas_pct_laccess_nhpi15 )
qqPlot(basic_data$atlas_pct_laccess_nhpi15 )
qqPlot(basic_data$atlas_pct_laccess_pop15)
hist(basic_data$atlas_pct_laccess_pop15)
hist(basic_data$atlas_pct_laccess_seniors15)
qqPlot(basic_data$atlas_pct_laccess_seniors15)
hist(basic_data$atlas_pct_laccess_seniors15)
hist(basic_data$atlas_pct_laccess_snap15)
qqPlot(basic_data$atlas_pct_laccess_snap15)
qqPlot(basic_data$atlas_pct_laccess_white15)
hist(basic_data$atlas_pct_laccess_white15)
qqPlot(basic_data$atlas_pct_loclfarm12)
hist(basic_data$atlas_pct_loclfarm12)
qqPlot(basic_data$atlas_pct_loclfarm12)
qqPlot(basic_data$atlas_pct_loclsale12)
hist(basic_data$atlas_pct_loclsale12)
qqPlot(basic_data$atlas_pct_nslp15)
hist(basic_data$atlas_pct_nslp15)
qqPlot(basic_data$atlas_pct_obese_adults13)
hist(basic_data$atlas_pct_obese_adults13)
qqPlot(basic_data$atlas_pct_reduced_lunch14)
hist(basic_data$atlas_pct_reduced_lunch14)
hist(basic_data$atlas_pct_sbp15)
qqPlot(basic_data$atlas_pct_sbp15)
qqPlot(basic_data$atlas_pct_sbp15)
qqPlot(basic_data$atlas_pct_sfsp15)
hist(basic_data$atlas_pct_sfsp15)
qqPlot(basic_data$atlas_pct_snap16)
hist(basic_data$atlas_pct_snap16)
hist(basic_data$atlas_pct_wic15)
qqPlot(basic_data$atlas_pct_wic15)
qqPlot(basic_data$atlas_percapitainc)
hist(basic_data$atlas_percapitainc)
qqPlot(basic_data$atlas_percapitainc)
hist(basic_data$atlas_percapitainc)
qqPlot(basic_data$atlas_perpov_1980_0711)
hist(basic_data$atlas_perpov_1980_0711)
describe(basic_data$atlas_perpov_1980_0711)
sum(basic_data$atlas_perpov_1980_0711==0)
qqPlot(basic_data$atlas_persistentchildpoverty_1980_2011)
qqPlot(basic_data$atlas_population_loss_2015_update)
qqPlot(basic_data$atlas_povertyallagespct)
hist(basic_data$atlas_povertyallagespct)
hist(basic_data$atlas_povertyallagespct)
qqPlot(basic_data$atlas_povertyunder18pct)
hist(basic_data$atlas_povertyunder18pct)
hist(basic_data$atlas_recfac14)
qqPlot(basic_data$atlas_recfac14)
qqPlot(basic_data$atlas_recfac14[,<10])
qqPlot(basic_data$atlas_recfac14[<10,])
qqPlot(basic_data$atlas_recfac14[10,])
qqPlot(basic_data$atlas_recfac14(<10,)
basic_data$atlas_recfac14[,<=10]
basic_data$atlas_recfac14[basic_data$atlas_recfac14>10]
qqPlot(basic_data$atlas_recfac14[basic_data$atlas_recfac14>10])
qqPlot([basic_data$atlas_recfac14>10])
qqPlot(basic_data$atlas_recfac14>10)
basic_data$atlas_recfac14[basic_data$atlas_recfac14>10]
qqPlot(basic_data$atlas_recfac14[basic_data$atlas_recfac14>100])
qqPlot(basic_data$atlas_recfac14[basic_data$atlas_recfac14>200])
qqPlot(basic_data$atlas_recfacpth14)
hist(basic_data$atlas_recfacpth14)
qqPlot(basic_data$atlas_redemp_snaps16)
hist(basic_data$atlas_redemp_snaps16)
hist(basic_data$atlas_retirement_destination_2015_upda)
qqPlot(basic_data$atlas_retirement_destination_2015_upda)
qqPlot(basic_data$atlas_slhouse12)
hist(basic_data$atlas_slhouse12)
hist(basic_data$atlas_totalocchu)
qqPlot(basic_data$atlas_totalocchu)
qqPlot(basic_data$atlas_type_2015_mining_no )
hist(basic_data$atlas_totalocchu)
qqPlot(basic_data$atlas_totalocchu)
qqPlot(basic_data$atlas_type_2015_mining_no)
qqPlot(basic_data$atlas_type_2015_mining_no)
hist(basic_data$atlas_type_2015_mining_no)
hist(basic_data$atlas_type_2015_recreation_no)
qqPlot(basic_data$atlas_type_2015_recreation_no)
qqPlot(basic_data$atlas_type_2015_update)
hist(basic_data$atlas_type_2015_update)
hist(basic_data$atlas_veg_acrespth12)
qqPlot(basic_data$atlas_veg_acrespth12)
qqPlot(basic_data$atlas_veg_farms12)
hist(basic_data$atlas_veg_farms12)
hist(basic_data$atlas_vlfoodsec_13_15)
qqPlot(basic_data$atlas_vlfoodsec_13_15)
qqPlot(basic_data$atlas_wicspth12)
hist(basic_data$atlas_wicspth12)
-4.59/0.269
library(tidyverse)
install.packages('tidyverse')
library(tidyverse)
library(magrittr)
library("SmartEDA")
install.packages("SmartEDA")
library(tidyverse)
library(magrittr)
library("SmartEDA")
View(atlas_agr_na)
View(atlas_agr_na)
View(data1)
View(datamiss1)
View(data1)
View(data1)
library(KNN)
?knn
install.packages('impute')
install.packages("impute")
knitr::opts_chunk$set(echo = TRUE)
#environment setting
library(Hmisc)
library(data.table)
library(pastecs)
library(VIM)
basic_data=read.csv('basic_data.csv')
colnames=colnames(basic_data)
col1=like(colnames,'atlas',fixed=TRUE) #'atlas'可替换为任意前缀（后缀）
col1=colnames[col1]
data1=basic_data[,(names(basic_data) %in% col1)]
data1=data1[,order(colnames(data1))] #按英文字母表reorder，方便查看
install.packages('impute')
kNN(data=data1,variable=colnames(data1)[3],k=10)
kNN(data=data1,variable=colnames(data1)[1],k=10)
install.packages(mice)
install.packages('mice')
library(mice)
?mice
?mice
imce(data=data1)
mice(data=data1)
View(data1)
anyNa(data1)
install.packages('MaskJointDensity')
anyNa(data1)
anyNA(data1)
mice1<-mice(data1[,!names(data1)%in%"covid_vaccination"],m=3,method='rf')
mice1<-mice(data1[,!names(data1)%in%"covid_vaccination"],m=2)
mice1output<-complete(mice1)
View(mice1output)
View(data1)
median_list_yd=median_list_yd[-c(18,19,31,73,74,75,81,84,85,1,3,37,67,87,64,68,69,71)]
median_list_yd <- c(1:90)
median_list_yd=median_list_yd[-c(18,19,31,73,74,75,81,84,85,1,3,37,67,87,64,68,69,71)]
anyNA(mice1output)
dim(mice1output)
summary(mice1)
basic_data=read.csv('basic_data.csv')
colnames=colnames(basic_data)
col1=like(colnames,'atlas',fixed=TRUE) #'atlas'可替换为任意前缀（后缀）
col1=colnames[col1]
data1=basic_data[,(names(basic_data) %in% col1)]
data1=data1[,order(colnames(data1))] #按英文字母表reorder，方便查看
summary(basic_data)
